<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="x5-orientation" content="landscape">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    <title>立flag | FCGame</title>
    <meta name="keywords" content="fc,在线fc游戏,fc在线模拟器,nes在线模拟器,魂斗罗,超级玛丽,忍者龙剑传,"/>
    <meta name="description" content="任天堂FC/NES原版ROM在线玩，可以近乎完美的还原fc卡带游戏的视频和声音。"/>
    <link href="css/jsnes.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="favicon.ico">
    <style>
        .function button, .action button {
            color: #000;
        }

        .function button {
            height: 32px;
            width: auto;
        }
    </style>
</head>
<!-- /**
 * fc在线玩
 * Gitee 开源地址：https://gitee.com/feiyu22/jsnes
 * 转载或使用时，还请保留以上信息，谢谢！
 */ -->
<body>
<div class="main">
    <div class="panel">
        <div class="controller-area">
            <div class="controller">
                <div id="controls-direction">
                    <div id="controls-rocker"></div>
                    <button role="BUTTON_UP" class="up joydirection" id="joystick_btn_up">up</button>
                    <button role="BUTTON_RIGHT" class="right joydirection" id="joystick_btn_right">right</button>
                    <button role="BUTTON_DOWN" class="down joydirection" id="joystick_btn_down">down</button>
                    <button role="BUTTON_LEFT" class="left joydirection" id="joystick_btn_left">left</button>
                </div>
            </div>
            <div class="joy">I</div>
            <div><a href="http://liflag.cn/post/59" target="_blank" class="readme">按键说明</a></div>
        </div>
        <div class="function-area">
            <div class="screen">
                <div id="emulator" align="center" style="width:100%;height:100%"></div>
            </div>
            <div class="function">
                <button class="controls-center-select joybtn" id="joystick_btn_select" role="BUTTON_SELECT">Select
                </button>
                <button class="controls-center-start joybtn" id="joystick_btn_start" role="BUTTON_START">Pause</button>
            </div>
        </div>
        <div class="action-area">
            <div class="action">
                <div id="controls-fire">
                    <button class="a joybtn" role="BUTTON_A" id="joystick_btn_A">A</button>
                    <button class="b joybtn" role="BUTTON_B" id="joystick_btn_B">B</button>
                </div>
            </div>
        </div>
        <div class="sign">FAMILY <br> COMPUTER</div>
    </div>
</div>
<div>
    <table class="gt_table" style="">
        <tbody>
        <tr>
            <td style="">按键</td>
            <td style="">player1</td>
            <td style="">player2</td>
        </tr>
        <tr>
            <td style="">Left</td>
            <td style="">A</td>
            <td style="">Num-4</td>
        </tr>
        <tr>
            <td style="">Right</td>
            <td style="">D</td>
            <td style="">Num-6</td>
        </tr>
        <tr>
            <td style="">Up</td>
            <td style="">W</td>
            <td style="">Num-8</td>
        </tr>
        <tr>
            <td style="">Down</td>
            <td style="">S</td>
            <td style="">Num-2</td>
        </tr>
        <tr>
            <td style="">A</td>
            <td style="">J</td>
            <td style="">Num-7</td>
        </tr>
        <tr>
            <td style="">B</td>
            <td style="">K</td>
            <td style="">Num-9</td>
        </tr>
        <tr>
            <td style="">AA</td>
            <td style="">Z</td>
            <td style="">Num-/</td>
        </tr>
        <tr>
            <td style="">BB</td>
            <td style="">X</td>
            <td style="">Num-*</td>
        </tr>
        <tr>
            <td style="">Start</td>
            <td style="">Enter</td>
            <td style="">Num-1</td>
        </tr>
        <tr>
            <td style="">Select</td>
            <td style="">Ctrl</td>
            <td style="">Num-3</td>
        </tr>
        </tbody>
    </table>
</div>
</body>
<script src="../lib/jquery-1.4.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../lib/dynamicaudio-min.js" type="text/javascript" charset="utf-8"></script>
<script src="nes.js" type="text/javascript" charset="utf-8"></script>
<script src="utils.js" type="text/javascript" charset="utf-8"></script>
<script src="cpu.js" type="text/javascript" charset="utf-8"></script>
<script src="keyboard.js" type="text/javascript" charset="utf-8"></script>
<script src="mappers.js" type="text/javascript" charset="utf-8"></script>
<script src="papu.js" type="text/javascript" charset="utf-8"></script>
<script src="ppu.js" type="text/javascript" charset="utf-8"></script>
<script src="rom.js" type="text/javascript" charset="utf-8"></script>
<script src="ui.js" type="text/javascript" charset="utf-8"></script>
<script src="../lib/debug.mini.js" type="text/javascript" charset="utf-8"></script>
<script src="../lib/nipplejs.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../lib/joystick.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">
    var nes;
    $(function () {
        nes = new JSNES({
            'ui': $('#emulator').JSNESUI({
                "Mario Nes Game": [
                    ['XXXX hack', 'roms/rom1/7002480.nes'],
                    ['Cheat Mario Bros.', 'roms/rom1/7002674.nes'],
                    ['Super Mario Bros. 3', 'roms/rom1/7100228.nes'],
                    ['Super Mario Bros.', 'roms/rom1/(W) Super Mario Bros. [!].nes'],
                    ['Super Mario Bros. 2', 'roms/rom1/7002690.nes'],
                    ['Mario's Time Machine!', 'roms/rom1/7100831.nes'],
                    ['Mario Is Missing!', 'roms/rom1/7002694.nes'],
                    ['SMB 泣兔狩', 'roms/rom1/7002622.nes'],
                    ['Dr. Mario', 'roms/rom1/7002692.nes'],
                    ['Wrecking Crew', 'roms/rom1/7002589.nes'],
                    ['Super Mario Bros. 3 MIX', 'roms/rom1/7002525.nes'],
                    ['Super Mario Bros. 3:A New Journey ', 'roms/rom1/7100987.nes'],
                ],
                
            })
        });
    });
</script>
<!--[if IE]>
<script type="text/vbscript" src="jsnes-ie-hacks.vbscript"></script>
<![endif]-->
<script>
    function touchDwon(evt) {
        nes.keyboard.keyDown({
            keyCode: evt.keyCode
        });
    };

    function touchUp(evt) {
        nes.keyboard.keyUp({
            keyCode: evt.keyCode
        });
    };

    function select(val) {
        if (val.substring(0, 1) == "#") {
            return document.querySelector(val);
        } else {
            return document.getElementById(val);
        }
    }

    var joystick = new Joystick({
        el: select("controls-rocker"),
        mode: 'static',
        color: "#808080",
        size: 150,
        isFourBtn: false,
        keyCodes: [87, 83, 65, 68],
        btn_down_fn: touchDwon,
        btn_up_fn: touchUp,
        relative: true,
    });
    joystick.init();
</script>
</html>
